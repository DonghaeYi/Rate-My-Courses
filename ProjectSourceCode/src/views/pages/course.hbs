<div class="container border border-dark" style="padding-bottom: 16px">
    <h1>{{course_tag}} {{course_id}}</h1>
    <h4>{{course_name}}</h4>
    <h6>{{credit_hours}} credit hours</h6>
    <p>{{description}}</p>
    <hr>
    <div class="row">
        <div class="col md-6 pt-1" style="float: left;">
            <h5>Average Rating: <b> {{average_rating}} </b></h5>
        </div>
        <div class="col md-6">
    <button class="btn btn-primary" style="float: right; " id="reviewButton">
        {{#unless userHasAlreadyReviewed}}
        Write a review
        {{else}}
        Update your review
        {{/unless}}
    </button>
    <script>
        //used chatgpt to help get the url from the course page (needed course id and course tag for review).
        document.getElementById("reviewButton").onclick = function() {
        var referringPage = window.location.href;
        window.location.href = "/course/{{course_tag}}{{course_id}}/review?page=" + encodeURIComponent(referringPage);
        };
    </script>
        </div>
    </div>
    </br>
</div>
</br>
{{#if reviews.length}}
    <div id="review-container" class="container">
    {{> sort start_selected="Trust" }}
    {{#each reviews}}
    </br>
    <div id="review{{this.review_id}}" class="container border border-dark" >
            <h5>Review from {{term_taken}} {{year_taken}}:</h5>
            <table class="table">
                <tr>
              <td scope="col">Overall: {{overall_rating}}/10</td>
              <td scope="col">Homework: {{homework_rating}}/10</td>
              <td scope="col">Enjoyability: {{enjoyability_rating}}/10</td>
              <td scope="col">Usefulness: {{usefulness_rating}}/10</td>
              <td scope="col">Difficulty: {{difficulty_rating}}/10</td>
                </tr>
            </table>
            <p>{{review}}</p>
            {{> up_down_vote_button }}
            <p class="text-muted">posted by {{posted_by.username}}</p>
        </div>
        </br>
    {{/each}}
    </div>
{{else}}
<div class="container">
      <p>No reviews found.</p>
</div>
{{/if}}
{{> up_down_vote_script }}
